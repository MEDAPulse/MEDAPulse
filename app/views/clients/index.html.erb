<div class="pure-g">
  <div class="pure-u-1 pure-u-md-1-3 pure-u-lg-1-3">
    <div class="sidebar">
      <%= render current_user %>
    </div>
  </div>

  <div class="pure-u-1 pure-u-md-2-3 pure-u-lg-2-3">
      <div class="main padding">
        <% if policy(Client.new).create? %>
        <%= link_to "Create New Client", new_client_path, class: 'pure-button pure-button-primary' %>
        <% end %>

      <div ng-controller="clientsController">

        <h4> Search existing clients </h4>
        
        <form class="pure-form">
          <input type="text" placeholder="Search by any field..." ng-model="query" autofocus class="pure-input"> 
        </form>

        <h4> Showing {{filtered.length}} clients</h4>

        <table class="pure-table pure-table-horizontal"> 
          <thead>
            <tr>
              <td>Name</td>
              <td>Email</td>
              <td>Phone</td>
              <td>MEDA Contact ID</td>
              <td>Salesforce ID</td>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="client in filtered = (clients | filter:query:strict)">
              <td><a href="clients/{{ client.id }}">{{client.last_name}}</a></td>
              <td>{{client.email}}</td>
              <td>{{client.phone}}</td>
              <td>{{client.contact_id}}</td>
              <td>{{client.salesforce_id}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>